{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M\\xE1rk\\\\Desktop\\\\tesztFolder-main\\\\src\\\\components\\\\LoginForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, ButtonGroup } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = () => {\n  _s();\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      navigate('/profile');\n    }\n  }, [navigate]);\n  const validationSchema = Yup.object({\n    username: Yup.string().email('Érvénytelen email cím').required('Kötelező mező'),\n    password: Yup.string().min(8, 'A jelszónak legalább 8 karakter hosszúnak kell lennie').matches(/\\d/, 'A jelszónak tartalmaznia kell legalább egy számot').matches(/[a-z]/, 'A jelszónak tartalmaznia kell legalább egy kisbetűt').required('Kötelező mező')\n  });\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      password: ''\n    },\n    validationSchema,\n    onSubmit: async values => {\n      setError(null);\n      try {\n        const response = await fetch('http://localhost:5000/user/login', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(values)\n        });\n        if (response.ok) {\n          const data = await response.json();\n          localStorage.setItem('token', data.accessToken);\n          navigate('/profile');\n        } else {\n          const errorData = await response.json();\n          switch (response.status) {\n            case 400:\n              throw new Error(errorData.message || 'A bevitt adatok érvénytelenek.');\n            case 401:\n              throw new Error(errorData.message || 'Hibás felhasználónév vagy jelszó.');\n            default:\n              throw new Error(errorData.message || 'Ismeretlen hiba történt.');\n          }\n        }\n      } catch (err) {\n        if (err instanceof Error) {\n          setError(err.message);\n        } else {\n          setError('Ismeretlen hiba történt.');\n        }\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '400px',\n      margin: 'auto',\n      padding: '20px',\n      border: '1px solid #ccc',\n      borderRadius: '5px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Bel\\xE9p\\xE9s\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"username\",\n          placeholder: \"Felhaszn\\xE1l\\xF3n\\xE9v\",\n          value: formik.values.username,\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur,\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: '5px',\n            border: '1px solid #ccc',\n            color: 'black',\n            backgroundColor: '#e0e0e0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), formik.touched.username && formik.errors.username && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: formik.errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Jelsz\\xF3\",\n          value: formik.values.password,\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur,\n          style: {\n            width: '100%',\n            padding: '10px',\n            borderRadius: '5px',\n            border: '1px solid #ccc',\n            color: 'black',\n            backgroundColor: '#e0e0e0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), formik.touched.password && formik.errors.password && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: formik.errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red',\n          textAlign: 'center',\n          marginTop: '10px'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          colorScheme: \"green\",\n          width: \"100%\",\n          isDisabled: !formik.isValid || formik.isSubmitting,\n          children: \"Bel\\xE9p\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          marginTop: '10px'\n        },\n        children: [\"Nincs fi\\xF3kod? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/register\",\n          children: \"Regisztr\\xE1ci\\xF3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginForm, \"YdIw9EP1IYtvuruWOPq3TM8D8Is=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useEffect","useFormik","Yup","useNavigate","Button","ButtonGroup","jsxDEV","_jsxDEV","LoginForm","_s","error","setError","navigate","token","localStorage","getItem","validationSchema","object","username","string","email","required","password","min","matches","formik","initialValues","onSubmit","values","response","fetch","method","headers","body","JSON","stringify","ok","data","json","setItem","accessToken","errorData","status","Error","message","err","style","maxWidth","margin","padding","border","borderRadius","children","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","marginBottom","type","name","placeholder","value","onChange","handleChange","onBlur","handleBlur","width","color","backgroundColor","touched","errors","marginTop","colorScheme","isDisabled","isValid","isSubmitting","href","_c","$RefreshReg$"],"sources":["C:/Users/Márk/Desktop/tesztFolder-main/src/components/LoginForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { useNavigate } from 'react-router-dom';\nimport { Button, ButtonGroup } from '@chakra-ui/react';\n\nconst LoginForm: React.FC = () => {\n    const [error, setError] = useState<string | null>(null);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            navigate('/profile');\n        }\n    }, [navigate]);\n\n    const validationSchema = Yup.object({\n        username: Yup.string().email('Érvénytelen email cím').required('Kötelező mező'),\n        password: Yup.string()\n            .min(8, 'A jelszónak legalább 8 karakter hosszúnak kell lennie')\n            .matches(/\\d/, 'A jelszónak tartalmaznia kell legalább egy számot')\n            .matches(/[a-z]/, 'A jelszónak tartalmaznia kell legalább egy kisbetűt')\n            .required('Kötelező mező'),\n    });\n\n    const formik = useFormik({\n        initialValues: {\n            username: '',\n            password: '',\n        },\n        validationSchema,\n        onSubmit: async (values) => {\n            setError(null);\n            try {\n                const response = await fetch('http://localhost:5000/user/login', {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify(values),\n                });\n\n                if (response.ok) {\n                    const data = await response.json();\n                    localStorage.setItem('token', data.accessToken);\n                    navigate('/profile');\n                } else {\n                    const errorData = await response.json();\n                    switch (response.status) {\n                        case 400:\n                            throw new Error(errorData.message || 'A bevitt adatok érvénytelenek.');\n                        case 401:\n                            throw new Error(errorData.message || 'Hibás felhasználónév vagy jelszó.');\n                        default:\n                            throw new Error(errorData.message || 'Ismeretlen hiba történt.');\n                    }\n                }\n            } catch (err) {\n                if (err instanceof Error) {\n                    setError(err.message);\n                } else {\n                    setError('Ismeretlen hiba történt.');\n                }\n            }\n        },\n    });\n\n    return (\n        <div style={{ maxWidth: '400px', margin: 'auto', padding: '20px', border: '1px solid #ccc', borderRadius: '5px' }}>\n            <h2 style={{ textAlign: 'center' }}>Belépés</h2>\n            <form onSubmit={formik.handleSubmit}>\n                <div style={{ marginBottom: '15px' }}>\n                    <input\n                        type=\"email\"\n                        name=\"username\"\n                        placeholder=\"Felhasználónév\"\n                        value={formik.values.username}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        style={{ width: '100%', padding: '10px', borderRadius: '5px', border: '1px solid #ccc', color: 'black', backgroundColor: '#e0e0e0' }}\n                    />\n                    {formik.touched.username && formik.errors.username && (\n                        <div style={{ color: 'red' }}>{formik.errors.username}</div>\n                    )}\n                </div>\n                <div style={{ marginBottom: '15px' }}>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        placeholder=\"Jelszó\"\n                        value={formik.values.password}\n                        onChange={formik.handleChange}\n                        onBlur={formik.handleBlur}\n                        style={{ width: '100%', padding: '10px', borderRadius: '5px', border: '1px solid #ccc', color: 'black', backgroundColor: '#e0e0e0' }}\n                    />\n                    {formik.touched.password && formik.errors.password && (\n                        <div style={{ color: 'red' }}>{formik.errors.password}</div>\n                    )}\n                </div>\n                {error && <p style={{ color: 'red', textAlign: 'center', marginTop: '10px' }}>{error}</p>}\n                <ButtonGroup>\n                    <Button type=\"submit\" colorScheme=\"green\" width=\"100%\" isDisabled={!formik.isValid || formik.isSubmitting}>\n                        Belépés\n                    </Button>\n                </ButtonGroup>\n                <p style={{ textAlign: 'center', marginTop: '10px' }}>\n                    Nincs fiókod? <a href=\"/register\">Regisztráció</a>\n                </p>\n            </form>\n        </div>\n    );\n};\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}