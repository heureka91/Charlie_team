{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tibi91\\\\Desktop\\\\Charlie-Team-Forum-App2-main\\\\src\\\\components\\\\pages\\\\Profile.tsx\",\n  _s = $RefreshSig$();\n// src/Profile.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Button, Heading, Text, useToast, Spinner } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  const toast = useToast();\n  useEffect(() => {\n    const fetchUserData = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login');\n        return;\n      }\n      try {\n        const response = await fetch('http://localhost:5000/user', {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setUser(data);\n        } else {\n          localStorage.removeItem('token');\n          navigate('/login');\n        }\n      } catch (err) {\n        setError('Hiba történt az adatok lekérése során.');\n        localStorage.removeItem('token');\n        navigate('/login');\n      }\n    };\n    fetchUserData();\n  }, [navigate]);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n  const handleUpdateUser = () => {\n    navigate('/update');\n  };\n  const handleChangePassword = () => {\n    navigate('/change-password');\n  };\n  const handleBackToForum = () => {\n    navigate('/forum');\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      maxWidth: \"400px\",\n      margin: \"auto\",\n      padding: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        color: \"red.500\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      maxWidth: \"400px\",\n      margin: \"auto\",\n      padding: \"20px\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        size: \"xl\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    maxWidth: \"400px\",\n    margin: \"auto\",\n    padding: \"20px\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"5px\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      as: \"h2\",\n      textAlign: \"center\",\n      mb: 4,\n      children: \"Profil Oldal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Email:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }, this), \" \", user.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Keresztn\\xE9v:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }, this), \" \", user.firstName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Text, {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Vezet\\xE9kn\\xE9v:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }, this), \" \", user.lastName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"blue\",\n      width: \"100%\",\n      mt: 4,\n      onClick: handleUpdateUser,\n      children: \"Szem\\xE9lyes adatok m\\xF3dos\\xEDt\\xE1sa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"blue\",\n      width: \"100%\",\n      mt: 4,\n      onClick: handleChangePassword,\n      children: \"Jelsz\\xF3 m\\xF3dos\\xEDt\\xE1sa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"red\",\n      width: \"100%\",\n      mt: 4,\n      onClick: handleLogout,\n      children: \"Kil\\xE9p\\xE9s\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      colorScheme: \"teal\",\n      width: \"100%\",\n      mt: 4,\n      onClick: handleBackToForum,\n      children: \"Vissza a f\\xF3rumra\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n};\n_s(Profile, \"I0iCmqvGclDVh7sFUXLHROqsfMg=\", false, function () {\n  return [useNavigate, useToast];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Box","Button","Heading","Text","useToast","Spinner","jsxDEV","_jsxDEV","Profile","_s","user","setUser","error","setError","navigate","toast","fetchUserData","token","localStorage","getItem","response","fetch","method","headers","ok","data","json","removeItem","err","handleLogout","handleUpdateUser","handleChangePassword","handleBackToForum","maxWidth","margin","padding","children","color","fileName","_jsxFileName","lineNumber","columnNumber","size","border","borderRadius","as","textAlign","mb","email","firstName","lastName","colorScheme","width","mt","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Tibi91/Desktop/Charlie-Team-Forum-App2-main/src/components/pages/Profile.tsx"],"sourcesContent":["// src/Profile.tsx\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Box, Button, Heading, Text, useToast, Spinner } from '@chakra-ui/react';\n\ninterface User {\n    email: string;\n    firstName: string;\n    lastName: string;\n    userId: string;\n}\n\nconst Profile: React.FC = () => {\n    const [user, setUser] = useState<User | null>(null);\n    const [error, setError] = useState<string | null>(null);\n    const navigate = useNavigate();\n    const toast = useToast();\n\n    useEffect(() => {\n        const fetchUserData = async () => {\n            const token = localStorage.getItem('token');\n            if (!token) {\n                navigate('/login');\n                return;\n            }\n\n            try {\n                const response = await fetch('http://localhost:5000/user', {\n                    method: 'GET',\n                    headers: {\n                        'Authorization': `Bearer ${token}`,\n                    },\n                });\n\n                if (response.ok) {\n                    const data: User = await response.json();\n                    setUser(data);\n                } else {\n                    localStorage.removeItem('token');\n                    navigate('/login');\n                }\n            } catch (err) {\n                setError('Hiba történt az adatok lekérése során.');\n                localStorage.removeItem('token');\n                navigate('/login');\n            }\n        };\n\n        fetchUserData();\n    }, [navigate]);\n\n    const handleLogout = () => {\n        localStorage.removeItem('token');\n        navigate('/login');\n    };\n\n    const handleUpdateUser = () => {\n        navigate('/update');\n    };\n\n    const handleChangePassword = () => {\n        navigate('/change-password');\n    };\n\n    const handleBackToForum = () => {\n        navigate('/forum');\n    };\n\n    if (error) {\n        return (\n            <Box maxWidth=\"400px\" margin=\"auto\" padding=\"20px\">\n                <Text color=\"red.500\">{error}</Text>\n            </Box>\n        );\n    }\n\n    if (!user) {\n        return (\n            <Box maxWidth=\"400px\" margin=\"auto\" padding=\"20px\">\n                <Spinner size=\"xl\" />\n            </Box>\n        );\n    }\n\n    return (\n        <Box maxWidth=\"400px\" margin=\"auto\" padding=\"20px\" border=\"1px solid #ccc\" borderRadius=\"5px\">\n            <Heading as=\"h2\" textAlign=\"center\" mb={4}>Profil Oldal</Heading>\n            <Text><strong>Email:</strong> {user.email}</Text>\n            <Text><strong>Keresztnév:</strong> {user.firstName}</Text>\n            <Text><strong>Vezetéknév:</strong> {user.lastName}</Text>\n            <Button colorScheme=\"blue\" width=\"100%\" mt={4} onClick={handleUpdateUser}>\n                Személyes adatok módosítása\n            </Button>\n            <Button colorScheme=\"blue\" width=\"100%\" mt={4} onClick={handleChangePassword}>\n                Jelszó módosítása\n            </Button>\n            <Button colorScheme=\"red\" width=\"100%\" mt={4} onClick={handleLogout}>\n                Kilépés\n            </Button>\n            <Button colorScheme=\"teal\" width=\"100%\" mt={4} onClick={handleBackToForum}>\n                Vissza a fórumra\n            </Button>\n        </Box>\n    );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}